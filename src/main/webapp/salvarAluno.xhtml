<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/Layout.xhtml">

	<ui:define name="content">

		<div class="row">
			<ol class="breadcrumb">
				<li><a href="#{request.contextPath}/Inicio.xhtml"><span
						class="glyphicon glyphicon-home"></span></a></li>
				<li class="active">Cadastrar Aluno</li>
			</ol>
		</div>
		<!--/.row-->

		<div class="row">
			<div class="col-lg-12">
				<h3 class="page-header">Cadastrar Aluno</h3>
			</div>
		</div>
		<!--/.row-->

		<h:panelGroup>
			<div class="row">
				<div class="col-lg-12">
					<h:form id="salvar-form">
						<div class="panel panel-default">
							<div class="panel-heading">Preencha o formulário.</div>
							<h:messages id="messages" showSummary="false" showDetail="true"
								closable="true" autoUpdate="true" />
							<div class="panel-body tabs">
								<ul class="nav nav-pills">
									<li class="#{alunoBean.alunoTab}"><a href="#tab-aluno"
										data-toggle="tab">Dados principais</a></li>
									<li class="#{alunoBean.documentoTab}"><a
										href="#tab-documento" data-toggle="tab">Documento</a></li>
									<li class="#{alunoBean.enderecoTab}"><a
										href="#tab-endereco" data-toggle="tab">Endereço</a></li>
								</ul>
								<div class="tab-content">
									<!-- INICIO TAB ALUNO -->
									<div class="tab-pane #{alunoBean.alunoTab}" id="tab-aluno">
										<div class="col-md-4">
											<div class="form-group">
												<h:outputLabel value="Nome:" for="nome" />
												<h:inputText value="#{alunoBean.pessoa.nome}"
													required="true" styleClass="form-control" id="nome" />
											</div>
											<div class="form-group">
												<h:outputLabel value="Sexo:" for="sexo" />
												<h:selectOneMenu value="#{alunoBean.pessoa.sexo}"
													styleClass="form-control" id="sexo">
													<f:selectItem itemValue="" itemLabel="-"
														noSelectionOption="true" />
													<f:selectItem itemValue="MASCULINO" itemLabel="Masculino" />
													<f:selectItem itemValue="FEMININO" itemLabel="Feminino" />
													<f:selectItem itemValue="OUTRO" itemLabel="Outro" />
												</h:selectOneMenu>
											</div>
											<div class="form-group">
												<h:outputLabel value="Data de nascimento:"
													for="data-nascimento" />
												<p:inputMask value="#{alunoBean.pessoa.dataNasc}"
													id="data-nascimento" styleClass="form-control"
													maxlength="10" mask="99/99/9999">
													<f:convertDateTime pattern="dd/MM/yyyy" locale="pt_BR"
														for="data-nascimento" />
												</p:inputMask>
											</div>
											<div class="form-group">
												<h:outputLabel value="Email:" for="email" />
												<h:inputText value="#{alunoBean.pessoa.email}"
													required="true" styleClass="form-control" id="email" />
											</div>
											<div class="form-group">
												<h:outputLabel value="Estado Civil:" for="estado-civil" />
												<h:selectOneMenu value="#{alunoBean.pessoa.estadoCivil}"
													styleClass="form-control" id="estado-civil">
													<f:selectItem itemValue="" itemLabel="-"
														noSelectionOption="true" />
													<f:selectItem itemValue="SOLTEIRO(A)"
														itemLabel="Solteiro(a)" />
													<f:selectItem itemValue="CASADO(A)" itemLabel="Casado(a)" />
													<f:selectItem itemValue="DIVORCIADO(A)"
														itemLabel="Divorciado(a)" />
													<f:selectItem itemValue="OUTRO" itemLabel="Outro" />
												</h:selectOneMenu>
											</div>
											<div class="form-group">
												<h:outputLabel value="Etnia:" for="etnia" />
												<h:inputText value="#{alunoBean.pessoa.etnia}"
													required="true" styleClass="form-control" id="etnia" />
											</div>
										</div>
										<div class="col-md-4">
											<div class="form-group">
												<h:outputLabel value="Nacionalidade:" for="nacionalidade" />
												<h:inputText value="#{alunoBean.pessoa.nacionalidade}"
													required="true" styleClass="form-control"
													id="nacionalidade" />
											</div>
											<div class="form-group">
												<h:outputLabel value="Naturalidade:" for="naturalidade" />
												<h:inputText value="#{alunoBean.pessoa.naturalidade}"
													required="true" styleClass="form-control" id="naturalidade" />
											</div>

											<div class="form-group">
												<h:outputLabel value="UF:" for="UF" />
												<h:inputText value="#{alunoBean.pessoa.uf}" required="true"
													styleClass="form-control" id="UF" style="width: 70px" />
											</div>
											<div class="form-group">
												<h:outputLabel value="Necessidades Especiais:"
													for="necessidades-especiais" />
												<h:inputText
													value="#{alunoBean.pessoa.necessidadesEspeciais}"
													required="true" styleClass="form-control"
													id="necessidades-especiais" />
											</div>
											<div class="form-group">
												<h:outputLabel value="Nome da Mãe:" for="nome-mae" />
												<h:inputText value="#{alunoBean.pessoa.nomeMae}"
													required="true" styleClass="form-control" id="nome-mae" />
											</div>
											<div class="form-group">
												<h:outputLabel value="Nome do Pai:" for="nome-pai" />
												<h:inputText value="#{alunoBean.pessoa.nomePai}"
													required="true" styleClass="form-control" id="nome-pai" />
											</div>
										</div>
										<div class="col-md-4">
											<div class="form-group">
												<h:outputLabel value="Numero do Celular:"
													for="numero-celular" />
												<h:inputText value="#{alunoBean.pessoa.responsavelLegal}"
													required="true" styleClass="form-control"
													id="numero-celular" />
											</div>
											<div class="form-group">
												<h:outputLabel value="Responsavel Legal:"
													for="responsavel-legal" />
												<h:inputText value="#{alunoBean.pessoa.numeroCelular}"
													styleClass="form-control" id="responsavel-legal" />
											</div>
											<div class="form-group">
												<h:outputLabel value="Data de ingresso:" for="data-ingresso" />
												<p:inputMask required="true" styleClass="form-control"
													id="data-ingresso" value="#{alunoBean.aluno.dataIngresso}"
													maxlength="10" mask="99/99/9999">
													<f:convertDateTime pattern="dd/MM/yyyy" locale="pt_BR"
														for="data-ingresso" />
												</p:inputMask>
											</div>
											<div class="form-group">
												<h:outputLabel value="Tipo de Cota:"
													for="tipo-cota-ingresso" />
												<h:selectOneMenu value="#{alunoBean.aluno.tipoCotaIngresso}"
													styleClass="form-control" id="tipo-cota-ingresso">
													<f:selectItem itemValue="" itemLabel="-"
														noSelectionOption="true" />
													<f:selectItem itemValue="1" itemLabel="Modalidade 1" />
													<f:selectItem itemValue="2" itemLabel="Modalidade 2" />
													<f:selectItem itemValue="3" itemLabel="Modalidade 3" />
												</h:selectOneMenu>
											</div>
											<div class="form-group">
												<h:outputLabel value="Turma:" for="turma" />
												<h:selectOneMenu value="#{alunoBean.turma}"
													styleClass="form-control" id="turma"
													converter="objectConverter">
													<f:selectItem value="#{null}"
														itemLabel="Escolha uma turma..." noSelectionOption="true" />
													<f:selectItems value="#{alunoBean.turmas}" var="varTurma"
														itemLabel="#{varTurma.codigo}" itemValue="#{varTurma}" />
												</h:selectOneMenu>
											</div>
										</div>
										<div class="col-lg-12">
											<div class="form-group" align="left">
												<h:commandButton value="Adicionar"
													action="#{alunoBean.adicionarAluno}"
													styleClass="btn btn-secondary"
													process="@this, nome, sexo, data-nascimento, email, estado-civil, etnia, nacionalidade, naturalidade, UF, necessidades-especiais, nome-mae, nome-pai, numero-celular, responsavel-legal, data-ingresso, tipo-cota-ingresso, turma"
													id="btn-add-aluno" />

											</div>
										</div>
									</div>
									<!-- FIM TAB ALUNO -->

									<!-- INICIO TAB DOCUMENTO -->
									<div class="tab-pane #{alunoBean.documentoTab}"
										id="tab-documento">
										<div class="col-md-4">
											<div class="form-group">
												<h:outputLabel value="Tipo de documento:" for="tipo-doc" />
												<h:selectOneMenu value="#{alunoBean.documento.tipo}"
													styleClass="form-control" id="tipo-doc">
													<f:selectItem itemValue="" itemLabel="-"
														noSelectionOption="true" />
													<f:selectItem itemValue="CPF" itemLabel="CPF" />
													<f:selectItem itemValue="RG" itemLabel="RG" />
													<f:selectItem itemValue="PASSAPORTE" itemLabel="Passaporte" />
													<f:selectItem itemValue="CNPJ" itemLabel="CNPJ" />
													<f:selectItem itemValue="OUTRO" itemLabel="Outro" />
												</h:selectOneMenu>
											</div>
											<div class="form-group">
												<h:outputLabel value="Numero:" for="numero-doc" />
												<h:inputText value="#{alunoBean.documento.numero}"
													styleClass="form-control" id="numero-doc" />
											</div>
										</div>
										<div class="col-md-4">
											<div class="form-group">
												<h:outputLabel value="Data de expedição:" for="data-emissao" />
												<p:inputMask value="#{alunoBean.documento.dataExpedicao}"
													styleClass="form-control" id="data-emissao" maxlength="15"
													mask="99/99/9999">
													<f:convertDateTime pattern="dd/MM/yyyy" locale="pt_BR"
														for="data-emissao" />
												</p:inputMask>
											</div>
											<div class="form-group">
												<h:outputLabel value="Data vencimento:" for="data-validade" />
												<p:inputMask value="#{alunoBean.documento.dataValidade}"
													styleClass="form-control" id="data-validade" maxlength="15"
													mask="99/99/9999">
													<f:convertDateTime pattern="dd/MM/yyyy" locale="pt_BR"
														for="data-validade" />
												</p:inputMask>
											</div>
										</div>
										<div class="col-md-4">
											<div class="form-group">
												<h:outputLabel value="UF:" for="uf-doc" />
												<h:inputText value="#{alunoBean.documento.uf}"
													styleClass="form-control" id="uf-doc" style="width: 70px" />
											</div>
											<div class="form-group">
												<h:outputLabel value="Orgão emissor:" for="emissor-doc" />
												<h:inputText value="#{alunoBean.documento.orgaoEmissor}"
													styleClass="form-control" id="emissor-doc" />
											</div>
										</div>
										<div class="col-lg-12">
											<div class="form-group">
												<h:commandButton value="Adicionar"
													action="#{alunoBean.adicionarDocumento}"
													styleClass="btn btn-secondary"
													process="@this, tipo-doc, numero-doc, data-validade, data-emissao, uf-doc, emissor-doc"
													id="btn-add-doc" />
											</div>
										</div>
										<div class="col-lg-12">
											<div class="form-group">
												<table data-toggle="table" id="docs-table">
													<thead>
														<tr>
															<th data-field="numero" data-sortable="true">Número</th>
															<th data-field="tipo" data-sortable="true">Tipo de
																documento</th>
															<th data-field="dataexpedicao" data-sortable="true">Data
																de Expedicao</th>
															<th data-field="datavalidade" data-sortable="true">Data
																de validade</th>
															<th data-field="uf" data-sortable="true">UF</th>
															<th data-field="orgaoemissor" data-sortable="true">Orgão
																Emissor</th>
															<th data-field="remover" data-sortable="true">Remover</th>
														</tr>
													</thead>
													<tbody id="docs-table-body">
														<ui:repeat value="#{alunoBean.documentos}" var="docc"
															varStatus="status">
															<tr>
																<td>#{docc.numero}</td>
																<td>#{docc.tipo}</td>
																<td><h:outputText id="dataexpedicao"
																		value="#{docc.dataExpedicao}">
																		<f:convertDateTime
																			for="dataexpedicao" pattern="dd/MM/yyyy"/>
																	</h:outputText></td>
																<td><h:outputText value="#{docc.dataValidade}"
																		id="datavalidade">
																		<f:convertDateTime pattern="dd/MM/yyyy"
																			for="datavalidade" />
																	</h:outputText></td>
																<td>#{docc.uf}</td>
																<td>#{docc.orgaoEmissor}</td>
																<td><h:commandLink
																		actionListener="#{alunoBean.removerDocumento(docc)}"
																		process="@this" class="glyphicon glyphicon-trash"
																		update="@form"> Remover</h:commandLink></td>
															</tr>
														</ui:repeat>
													</tbody>
												</table>
											</div>
										</div>
									</div>
									<!-- FIM TAB DOCUMENTO -->
									<!-- INICIO TAB ENDERECO -->
									<div class="tab-pane #{alunoBean.enderecoTab}"
										id="tab-endereco">

										<div class="col-md-3">
											<div class="form-group">
												<h:outputLabel value="CEP:" for="cep-end" />
												<h:inputText value="#{alunoBean.endereco.cep}"
													styleClass="form-control" id="cep-end" />
											</div>
											<div class="form-group">
												<h:outputLabel value="Logradouro:" for="logradouro-end" />
												<h:inputText value="#{alunoBean.endereco.logradouro}"
													styleClass="form-control" id="logradouro-end" />
											</div>
											<div class="form-group">
												<h:outputLabel value="Número:" for="numero-end" />
												<h:inputText value="#{alunoBean.endereco.numero}"
													styleClass="form-control" id="numero-end" />
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group">
												<h:outputLabel value="Bairro:" for="bairro-end" />
												<h:inputText value="#{alunoBean.endereco.bairro}"
													styleClass="form-control" id="bairro-end" />
											</div>


											<div class="form-group">
												<h:outputLabel value="Cidade:" for="cidade-end" />
												<h:inputText value="#{alunoBean.endereco.cidade}"
													styleClass="form-control" id="cidade-end" />
											</div>

											<div class="form-group">
												<h:outputLabel value="UF:" for="uf-end" />
												<h:inputText value="#{alunoBean.endereco.uf}"
													styleClass="form-control" id="uf-end" style="width: 70px" />
											</div>
										</div>
										<div class="col-md-3">
											<div class="form-group">
												<h:outputLabel value="Endereço para correspondências:"
													for="correspondencia-end" />
												<h:selectOneMenu
													value="#{alunoBean.endereco.enderecoCorrespondencia}"
													styleClass="form-control" id="correspondencia-end">
													<f:selectItem itemValue="" itemLabel="-"
														noSelectionOption="true" />
													<f:selectItem itemValue="SIM" itemLabel="SIM" />
													<f:selectItem itemValue="NAO" itemLabel="NÃO" />
												</h:selectOneMenu>
											</div>
											<div class="form-group">
												<h:outputLabel value="Tipo de Endereço:" for="tipo-end" />

												<h:selectOneMenu value="#{alunoBean.endereco.tipo}"
													styleClass="form-control" id="tipo-end">
													<f:selectItem itemValue="" itemLabel="-"
														noSelectionOption="true" />
													<f:selectItem itemValue="RESIDENCIAL"
														itemLabel="Residencial" />
													<f:selectItem itemValue="COMERCIAL" itemLabel="Comercial" />
													<f:selectItem itemValue="OUTRO" itemLabel="Outro" />
												</h:selectOneMenu>
											</div>
											<div class="form-group">
												<h:outputLabel value="Telefone:" for="telefone-end" />
												<h:inputText value="#{alunoBean.endereco.telefone}"
													styleClass="form-control" id="telefone-end" />
											</div>
										</div>
										<div class="col-lg-12">
											<div class="form-group">
												<h:commandButton value="Adicionar"
													actionListener="#{alunoBean.adicionarEndereco}"
													styleClass="btn btn-secondary"
													process="@this, tipo-end, cep-end, logradouro-end, numero-end, bairro-end, cidade-end, uf-end, correspondencia-end, telefone-end"
													id="btn-add-end" update="@all" />
											</div>
										</div>
										<div class="col-lg-12">
											<table data-toggle="table" id="end-table">
												<thead>
													<tr>
														<th data-field="cep" data-sortable="true">CEP</th>
														<th data-field="logradouro" data-sortable="true">Logradouro</th>
														<th data-field="numero" data-sortable="true">Numero</th>
														<th data-field="bairro" data-sortable="true">Bairro</th>
														<th data-field="cidade" data-sortable="true">Cidade</th>
														<th data-field="uf" data-sortable="true">UF</th>
														<th data-field="enderecoCorrespondencia"
															data-sortable="true">Correspondência</th>
														<th data-field="telefone" data-sortable="true">Telefone</th>
														<th data-field="remover" data-sortable="true">Remover</th>
													</tr>
												</thead>
												<tbody>
													<ui:repeat var="endere" value="#{alunoBean.enderecos}"
														varStatus="status">
														<tr>
															<td>#{endere.cep}</td>
															<td>#{endere.logradouro}</td>
															<td>#{endere.numero}</td>
															<td>#{endere.bairro}</td>
															<td>#{endere.cidade}</td>
															<td>#{endere.uf}</td>
															<td>#{endere.enderecoCorrespondencia}</td>
															<td>#{endere.telefone}</td>
															<td><h:commandLink
																	actionListener="#{alunoBean.removerEndereco(endere)}"
																	process="@this" class="glyphicon glyphicon-trash"
																	update="@form"> Remover</h:commandLink></td>
														</tr>
													</ui:repeat>
												</tbody>
											</table>
											<div class="col-lg-12">
												<br />
											</div>
										</div>
									</div>
									<!-- FIM TAB DOCUMENTO -->
								</div>
							</div>
						</div>
						<div class="col-lg-12">
							<div class="form-group" align="right">
								<div class="form-group col-md-8">
									<h:commandButton value="Salvar" process="salvar-form"
										rendered="#{alunoBean.enderecoTab == 'active'}" type="submit"
										action="#{alunoBean.salvar}" styleClass="btn btn-primary"
										update="salvar-form" />
								</div>
								<div class="form-group col-md-4">
									<h:commandButton value="Cancelar" process="salvar-form"
										type="submit" action="#{alunoBean.cancelarSalvar}"
										styleClass="btn btn-primary" />
								</div>
							</div>
						</div>
					</h:form>
				</div>
			</div>
		</h:panelGroup>
	</ui:define>
</ui:composition>